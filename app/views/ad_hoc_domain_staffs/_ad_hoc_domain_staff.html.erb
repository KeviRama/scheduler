<% if ad_hoc_domain_staff.new_record? %>
  <%=
    ahd_row(
      contents: {
        staff_form: ahd_form(ad_hoc_domain_staff)
      },
      row_classes: %w(underrule overrule)
    )
  %>
<% else %>
  <%= ahd_row(
    contents: {
      staff_delete: ahd_deletion_link(ad_hoc_domain_staff),
      staff: ad_hoc_domain_staff.staff_name,
      num_subjects: "#{ad_hoc_domain_staff.num_real_subjects} subjects",
      num_pupils: "#{ad_hoc_domain_staff.num_real_pupils} pupils",
      flipper: ahd_toggle( @folded ? "Show" : "Hide")
    },
    row_classes: %w(overrule minor)) %>
  <%=
    render object: ad_hoc_domain_staff,
      partial: 'ad_hoc_domain_staffs/staff_subjects'
    %>
<% end %>
