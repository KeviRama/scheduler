<% if nested %>
  <% links = staff_inner.links_to(ad_hoc_domain_subject) %>
  <% if links.size == 0 %>
    <%= ahd_row(
      contents: {
        no_pupils: "None defined yet."
      }) %>
  <% else %>
    <%= render collection: links.sort,
      partial: 'ad_hoc_domain_subject_staffs/link',
      locals: {
        ad_hoc_domain_subject: ad_hoc_domain_subject,
        ad_hoc_domain_staff: staff_inner
      }
    %>
  <% end %>
<% else %>
  <% links = staff_inner.ad_hoc_domain_subject_staffs %>
  <% if links.size == 0 %>
    <%= ahd_row(
      contents: {
        no_staff: "None defined yet."
      }) %>
  <% else %>
    <%= render collection: links.sort,
      partial: 'ad_hoc_domain_subject_staffs/link',
      locals: {
        ad_hoc_domain_staff: staff_inner
      }
    %>
  <% end %>
  <%=
    ahd_row(contents: {
      subject_form: ahd_new_subject_form(staff_inner.ad_hoc_domain_cycle,
                                         staff_inner) })
        %>
<% end %>
