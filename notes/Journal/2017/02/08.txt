Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2017-02-08T09:39:25+00:00

====== Wednesday 08 Feb 2017 ======

Now, to get the pop-down list of templates working, I need to construct the select box.  Normally this is done for me automatically by the rails code, but here I think I may need to do it myself.

Or could I use the Rails code to populate a template?  Given I have variables in it, probably not.

What does a pop-down look like in the HTML source?

'''
<select id="event_eventcategory_id" name="event[eventcategory_id]"><option value="">Please select</option>
<option value="18">Date - other</option>
<option value="19">Event set-up</option>
<option value="13">INSET / Training</option>
<option value="14">Interview / Audition</option>
<option value="1">Lesson</option>
<option value="20">Meeting</option>
<option value="16">Performance</option>
<option value="15">Practice / Rehearsal</option>
<option value="17">Religious service</option>
<option value="11">Sports fixture</option>
<option value="12">Trip</option></select>
'''


So I need to generate something similar in my template.

Need to stop worrying about "pretty".  I'm spending too much time on pretty.  Get the basic functionality working and then worry about pretty when I switch to using Bootstrap.

Now have all the fields working dynamically.  I need a field within my predictive text one to accept the resulting item ID.  What should that be called?  It seems that the input field should have a data item called "data-id-element", and that should be set to be a selector for a parallel hidden field, with that id.

E.g. data-id-element="#element_id"
<input id="element_id" type="hidden">

I will need to number these in my page because there's more than one of them.  It would seem logical to use the ID of the pseudoevent, or an empty string.

Having difficulty getting the rails-jquery-autocomplete code to file in my ID field.  Frankly, I'm amazed it works at all, given that I'm creating the fields dynamically.  I think perhaps I should stop it from attaching itself automatically, and then attach it explicitly myself.  There is a slight problem in that it uses the presence of the data-autocomplete class both as a trigger, and to contain some useful data.  Perhaps re-initialising it won't do any harm?  Try it.

Still pops down.  Still doesn't fill in my ID field.  More work needed.  Time to go and teach.
