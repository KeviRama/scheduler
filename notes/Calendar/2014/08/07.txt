Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2014-08-07T07:24:04+01:00

====== Thursday 07 Aug 2014 ======

Today I would like to set up the means for selected users to create and edit events.  Events which they create would belong to them, and then those are the events which they could subsequently edit.

This includes the means to add resources to such events.  It would also be nice to improve the event creation dialogue so that the date fields behave intelligently.

I notice events already have an owner_id field.  Is it actually in use anywhere, or was I just thinking ahead?  It seems the latter is the case.  Add something similar to elements.

The display and handling of events belonging to the current user (as opposed to events involving the current user) requires a little thought.

Currently the colour of an event is dictated by the Ownership or Interest record connecting the involved Element to the current User.  Where the user actually owns the event directly, there is no corresponding Element and thus no Ownership or Interest record.  We need somewhere else to specify the colour.  (Arguably, users might decide that they want to be able to specify different colours for different events which they own, but that's one for future expansion.)

Users will expect to be able to display and hide their owned events in the same way as they control the visibility of other events.  This means an extra line in the display.

The question then arises of which colour to use where a user both owns an event, and has a "me" relationship with an entity involved in the event.  I think I'm inclined to let the ownership over-rule the involvement.   There are two cases to consider:

1. Ordinary users who enter an event will almost always be involved in it.  It makes sense for them to be able to distinguish the events which they own from others in which they are involved.
2. Certain users (our two receptionists spring to mind) will very seldom be involved in the events which they own.  They need a visual indication that they are //not// involved in such events.

That rather suggests I need two separate colours for owned events.  One for when the user is involved, and one for when he isn't.  Fun.  The two new colour fields will need to go in the User record.
