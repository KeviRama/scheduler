Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2016-11-07T10:26:46+00:00

====== Monday 07 Nov 2016 ======

Some really excellent progress over the weekend.  Implemented the proposed changes to the MWD code and associates, and after a bit of messing about got it running much faster than before.  With the old code, analysing the requirements of just one lesson look 58 seconds on my i7.  With the new code it takes 2-3 seconds, and with 400-500 lessons in a day, we're looking at just about 1 hour to do a whole week's worth of lessons.  That's with an i7 running the d/b on an SSD.

For my staging server, a mobile i5 accessing its database over iSCSI and with it being on a RAID1 array built on conventional HDDs, it took 2 hours.  Still perfectly workable.  The result looks good, but I still have work to do:

[ ] Do some comparative checks of both schedule display and calendar download to ensure that my changes have not affected the results.
[*] Add e-mail flags to user records.  Weekly, daily, and immediate notifications.  Weekly and daily will come from a separate run, but immediate will be generated during (or rather, immediately at the end of) the run to create the notes in the first place.
[*] Add some kind of adornment to the event display so that one can immediately see if an event has a clash note.
[ ] Test processing for something when BST is in effect.

But first:

[*] Why does 1 PE in period 2 on Fri 11/11 not have a note indicating the absence of Peter Bignell et al?

Actually, that question turns out to have a trivial answer - it's not a lesson, but a meeting.  I don't currently check meetings.
