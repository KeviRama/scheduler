Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2016-11-03T09:43:10+00:00

====== Thursday 03 Nov 2016 ======

Starting today by pushing out a small release which fixes a problem with set membership when pupils have left the school.  The problem has existed for a while, but only became apparent once it was easy to see the membership of any set.

iSAMS is slightly odd in that it will let you mark a pupil as having left, but still have him as a member of arbitrary sets.  The data coming down through the API then is inconsistent.  A set list will say, "Pupil 1234 is a member of this set" but there will be no pupil 1234.  I had previously suppressed error messages about this, but hadn't realised that the particular way I handled the removal of members from sets meant that they would then never be removed from those sets, even after iSAMS's set lists were corrected.

This release - v0.8 - fixes that.

Next I intend to look at providing the means for administrators to edit concerns.  Ideally I suppose, they should be able to create them too.

Incidentally, I already have the means to edit concerns in the application - it's just very restricted in what you can do.  It's also overloaded to let you produce reports too.  Arguably those two should be separated.  Can one have a pop-up menu in HTML?

Not sure I quite understand the existing flags in the concern record.  I have two called skip_permissions and seek_permission, and I'm not sure why there are both.  It's to do with allowing Karen to put in calendar events for DJD to approve later - wrong way around, but that's how they wanted it.

Ah - I think I've got it.  skip_permissions means you don't have to go through the approvals process, but you can't actually do approvals.  Then seek_permission means that you are choosing to go through it anyway.  I will update the model documentation now.  Actually - that information was already there.  If all else fails, read the documentation.
