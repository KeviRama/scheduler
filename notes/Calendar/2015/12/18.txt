Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2015-12-18T10:19:05+00:00

====== Friday 18 Dec 2015 ======

Early use of the new functionality has made it clear that we need to be able to select which notes to incorporate in a report.  Currently it prints all notes (if asked for) which means that, for instance, Catering will get details of parking requests.  Whilst it may be desirable on occasion to get all the notes like this, it is also necessary to be able to restrict to just relevant ones.

Any report is generated via a resource, and if an event is being reported on then the resource must have a commitment to that event.  We can therefore produce three categories of note:

* General notes about the event
* Notes relating to this resource
* Notes relating to other resources

Arguably, I should be able to choose each of these independently.  Three check-boxes, so immediately I'll need to re-define the itemreports d/b table.  Currently it has one boolean column called just "notes".  How about:

notes_mine
notes_other
notes_general

or perhaps I should use a serializable field to allow for future expansion.  I used one of these a long time ago, but I don't really remember them.

There are two declarations - serialize and store.  The latter is a wrapper around the former, and can apparently make a single d/b column appear like multiple columns to the application.  This sounds ideal for my purposes, and it might well be worth trying it just for the exercise.  Let's do away with the "notes" boolean, and introduce a "note_flags" string.  I presume it should be a string.

I won't remove the old boolean for now, but probably will before I promote the code.
