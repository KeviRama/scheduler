Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2015-12-03T07:43:36+00:00

====== Thursday 03 Dec 2015 ======

I'm coming to the conclusion that I need to separate the "Show" and "Edit" screens for events a bit more.  There is no reason to have the approval/rejection links in the edit screen.  They would fit much more thoroughly into the "Show" screen, and we can then display all the ancillary information at the same time.  The list of un-contentious resources can be shortened, and then there will be more space for the notes.

Someone entering a new event with resources needing approval (or resources needing approval which also have notes?) should be thrown directly into the show screen rather than being returned to the calendar.  Notes should attach to commitments so it can be identified which one goes with which request.

Much more work should be done in the controller, in order to slim down the view.  We shouldn't be taking decisions there.

A promising day's work - I hope I can keep it looking neat.

Who gets to see what in the way of resources for an event?

* Guests get to see Staff, Groups, Locations - but only confirmed commitments.
* Logged in users get to see all six, and can see that things are pending.
* Those with approval potential get to see their potential approvals separately.
* Notes are shown strictly controlled by their visibility, except...
* If a note relates to a pending approval (or even a completed approval) then it is visible to anyone with approval permission, even if said person would not otherwise be able to see the note.  Thus one can potentially have a private requirement, visible only to the approver and the originator.

Do pending approvals come out of the main list?  Yes, if one can approve them.

Users should not be able to delete notes relating to commitments, although they can delete the commitments.  The person getting the request should be able to update the note with queries, in which case the user should probably then get an e-mail to tell them.

It occurs to me that if a user alters the note describing his requirements for a service, then the corresponding commitment should go back to being tentative.
