Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2015-09-24T08:32:54+01:00

====== Thursday 24 Sep 2015 ======

It's just occurred to me that there are potentially confidentiality issues in providing too general a search function.  And indeed, in letting just anyone select what events to see.  I noticed a parental meeting booked in for Mark Hindley and others.  Now arguably the person entering it shouldn't have put so much information in the event description but even so...

I have therefore introduced a new method User#staff?  Only staff will be able to do a full search.  Any other kind of logged in user (i.e. pupils) will be able to search but will be given back only events in the public calendar - just like a not-logged-in user, or a logged-in-but-unknown user.  Likewise, use of the Quick Add field is now restricted to staff.  Pupils will for now be able to view only their own timetables (and the calendar).  I then need to take away the ability of pupils to delete concerns, because if they delete their Calendar concern they'll never be able to get it back again.

OK - I think I might be ready to propagate my enhanced search facility to the staging server.  Check Nick's notes again.
